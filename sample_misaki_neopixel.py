"""
Neopixel 8x8ドットマトリックス 美咲フォント表示デモ

"""
from misakifont import MisakiFont
from machine import Pin
from neopixel import NeoPixel
import time
import random
from neomatrix_16x16 import NeoMatrix

pin = 26
matrix_w = 16
matrix_h = 16
bright = 50

# あかべぇデータ
data = (
((0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0)),
((0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (251, 62, 63), (239, 55, 56), (239, 56, 58), (231, 59, 61), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0)),
((0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (255, 59, 63), (234, 54, 55), (220, 47, 47), (219, 47, 48), (217, 48, 47), (218, 48, 43), (241, 51, 55), (231, 58, 61), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0)),
((0, 0, 0), (0, 0, 0), (0, 0, 0), (247, 56, 56), (218, 44, 43), (217, 45, 45), (217, 47, 49), (219, 47, 46), (216, 44, 42), (214, 44, 47), (217, 45, 48), (226, 44, 43), (232, 58, 59), (0, 0, 0), (0, 0, 0), (0, 0, 0)),
((0, 0, 0), (0, 0, 0), (238, 64, 63), (255, 255, 255), (255, 255, 255), (201, 29, 35), (219, 44, 43), (217, 44, 45), (204, 45, 49), (255, 255, 255), (255, 255, 255), (197, 28, 31), (223, 47, 45), (232, 58, 57), (0, 0, 0), (0, 0, 0)),
((0, 0, 0), (0, 0, 0), (255, 255, 255), (254, 255, 255), (255, 255, 254), (255, 255, 255), (207, 24, 24), (209, 45, 44), (255, 255, 255), (250, 255, 255), (251, 255, 255), (255, 255, 255), (212, 28, 30), (217, 51, 50), (0, 0, 0), (0, 0, 0)),
((0, 0, 0), (0, 0, 0), (36, 66, 141), (22, 54, 116), (255, 255, 255), (254, 255, 255), (212, 25, 25), (217, 46, 52), (19, 62, 135), (25, 54, 121), (255, 255, 255), (254, 255, 255), (211, 27, 27), (215, 51, 47), (0, 0, 0), (0, 0, 0)),
((0, 0, 0), (250, 71, 73), (40, 78, 146), (43, 72, 134), (255, 255, 255), (253, 255, 255), (211, 26, 28), (218, 48, 51), (38, 80, 147), (44, 74, 137), (255, 255, 255), (252, 255, 255), (209, 29, 28), (221, 48, 47), (233, 57, 58), (0, 0, 0)),
((0, 0, 0), (240, 51, 51), (221, 43, 38), (255, 255, 255), (253, 255, 255), (200, 8, 8), (216, 48, 45), (219, 47, 43), (226, 42, 38), (255, 255, 255), (255, 255, 255), (202, 7, 6), (218, 48, 44), (219, 48, 49), (216, 52, 52), (0, 0, 0)),
((0, 0, 0), (234, 56, 58), (219, 44, 41), (212, 25, 26), (210, 28, 29), (219, 47, 49), (219, 47, 49), (219, 48, 48), (219, 46, 47), (211, 26, 27), (211, 27, 29), (219, 47, 48), (218, 47, 49), (219, 49, 49), (215, 52, 52), (0, 0, 0)),
((0, 0, 0), (233, 57, 53), (218, 46, 45), (219, 48, 48), (219, 47, 49), (217, 48, 49), (218, 48, 48), (219, 47, 49), (219, 47, 48), (219, 47, 48), (219, 47, 48), (219, 47, 48), (218, 47, 49), (219, 49, 49), (214, 52, 52), (0, 0, 0)),
((0, 0, 0), (235, 55, 56), (218, 48, 46), (222, 46, 46), (218, 48, 47), (216, 49, 49), (220, 46, 48), (220, 48, 49), (221, 48, 49), (220, 46, 49), (217, 47, 47), (217, 48, 47), (220, 48, 46), (219, 49, 49), (215, 52, 52), (0, 0, 0)),
((0, 0, 0), (237, 55, 56), (223, 48, 47), (214, 50, 52), (224, 47, 50), (217, 48, 48), (218, 48, 50), (220, 51, 49), (220, 48, 50), (219, 48, 50), (219, 47, 46), (220, 49, 47), (217, 50, 49), (222, 49, 51), (214, 52, 52), (0, 0, 0)),
((0, 0, 0), (239, 57, 54), (212, 51, 56), (0, 0, 0), (233, 56, 62), (225, 49, 45), (221, 51, 52), (0, 0, 0), (0, 0, 0), (241, 55, 56), (227, 48, 48), (207, 54, 55), (0, 0, 0), (236, 55, 56), (223, 50, 54), (0, 0, 0)),
((0, 0, 0), (228, 61, 61), (0, 0, 0), (0, 0, 0), (0, 0, 0), (229, 58, 60), (215, 54, 55), (0, 0, 0), (0, 0, 0), (236, 57, 61), (210, 55, 55), (0, 0, 0), (0, 0, 0), (0, 0, 0), (221, 63, 61), (0, 0, 0)),
((0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0), (0, 0, 0))
)

str="こんにちは、世界！今日は、11月16日(水)です。ヘルプデスクへようこそ！"
np = NeoMatrix(pin)
mf = MisakiFont()
np.cls()

while True:
    #あかべぇの表示
    for y in range(16):
        for x in range(16):
            c = (data[y][x][0]//6,data[y][x][1]//6,data[y][x][2]//6)
            np.pixcel(x,y,c)
    np.update()
    time.sleep_ms(1000)    
    for x in range(16):
        np.scroll()
        time.sleep_ms(100)    

    #矩形の表示
    for i in range(5):
        color = (random.randint(0, bright),random.randint(0, bright),random.randint(0, bright))
        for j in range(0,matrix_w/2):
            np.cls(False)
            np.line(j,j,matrix_w-1-j,matrix_h-1-j,color,1)
            time.sleep_ms(100)

    #文字のスクロール表示
    for c in str:
        d = mf.font(ord(c))
        color = (random.randint(0, bright),random.randint(0, bright),random.randint(0, bright))
        np.scrollIn(d,color,1,4)

    time.sleep_ms(1000)
    np.cls()
